<!DOCTYPE html>
<html lang="ru">
{% load static %}
<head>
    <meta charset="UTF-8">
    <title>{{ TitlePage }}</title>
    {% block css_style %}
    {% endblock %}
</head>
<body>

<!-- –ó–∞–¥–Ω–∏–π canvas -->
<canvas id="snow-canvas-back" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 996;"></canvas>

<header>
    <div class="tab-headerLeft">
        {% if btnHomeVisible %}
        <div class="fButton" onclick="window.location.href='index/'">üè†Ô∏é</div>
        {% endif %}
    </div>

    <h1 class="shadow-text">{{TextPage}}</h1>

    <div class="tab-headerRight">
        {% block tabMenu %}
        {% endblock %}

        {% if btnAuthenticatedVisible %}
        {% if request.user.is_authenticated %}
        <div class="fButton" onclick="window.location.href='/logout/'">–í—ã–π—Ç–∏ –∏–∑ {{ request.user.username }}</div>
        {% else %}
        <div class="fButton" onclick="window.location.href='/'">–í—Ö–æ–¥</div>
        {% endif %}
        {% endif %}
    </div>
</header>

<div class="container">

    <!-- –û—Ç–æ–±—Ä–∞–∑–∏—Ç—å —Ç–æ–ª—å–∫–æ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ -->
    {% if request.path == '/index/' and request.user.is_authenticated %}

    {% endif %}

    {% block content %}
    {% endblock %}

</div>

<!-- –ü–µ—Ä–µ–¥–Ω–∏–π canvas -->
<canvas id="snow-canvas-front" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 1000;"></canvas>

<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>

{% block javascript %}
{% endblock %}

<!-- –ù–æ–≤–æ–≥–æ–¥–Ω–∏–µ —Å–ø–µ—Ü—ç—Ñ—Ñ–µ–∫—Ç—ã -->
<script>
    // –ü–æ–ª—É—á–∞–µ–º —Ç–µ–∫—É—â–∏–π –º–µ—Å—è—Ü
    const currentMonth = new Date().getMonth() + 1;

    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å–ª–∏ –º–µ—Å—è—Ü - –¥–µ–∫–∞–±—Ä—å
    if (currentMonth === 12 || currentMonth === 1) {
        const script = document.createElement('script');
        script.src = '{% static "js/snowfall.js" %}';
        document.body.appendChild(script);
    }
</script>
</body>
</html>